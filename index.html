<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniel Kapitan">
<meta name="author" content="Femke Heddema">
<meta name="author" content="Julie Fleischer">
<meta name="author" content="Irni Gemzon">
<meta name="author" content="Chris Ihure">
<meta name="author" content="Steven Wanyee">
<meta name="author" content="Alessandro Pietrobon">
<meta name="author" content="Ryan Chrichton">
<meta name="author" content="John Grimes">
<meta name="keywords" content="Analytics-on-FHIR, SQL-on-FHIR, HIE, data platforms, LMICs, digital health">

<title>Design and implemention of open health data systems with standardized data and analytics capabilities for low- and middle income countries</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-introduction" id="toc-sec-introduction" class="nav-link active" data-scroll-target="#sec-introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#the-need-for-standardized-open-health-data-systems" id="toc-the-need-for-standardized-open-health-data-systems" class="nav-link" data-scroll-target="#the-need-for-standardized-open-health-data-systems">The need for standardized open health data systems</a></li>
  <li><a href="#data-analytics-functions-are-essential-in-open-health-data-systems" id="toc-data-analytics-functions-are-essential-in-open-health-data-systems" class="nav-link" data-scroll-target="#data-analytics-functions-are-essential-in-open-health-data-systems">Data &amp; analytics functions are essential in open health data systems</a></li>
  </ul></li>
  <li><a href="#extending-openhie-to-include-modern-data-and-analytics-standards" id="toc-extending-openhie-to-include-modern-data-and-analytics-standards" class="nav-link" data-scroll-target="#extending-openhie-to-include-modern-data-and-analytics-standards">Extending OpenHIE to include modern data and analytics standards</a>
  <ul class="collapse">
  <li><a href="#high-level-solution-design" id="toc-high-level-solution-design" class="nav-link" data-scroll-target="#high-level-solution-design">High-level solution design</a></li>
  <li><a href="#parking-lot-following-snippets-need-reviewing-integrate-or-discard" id="toc-parking-lot-following-snippets-need-reviewing-integrate-or-discard" class="nav-link" data-scroll-target="#parking-lot-following-snippets-need-reviewing-integrate-or-discard">Parking lot: following snippets need reviewing (integrate or discard)</a></li>
  </ul></li>
  <li><a href="#case-study-of-implementations" id="toc-case-study-of-implementations" class="nav-link" data-scroll-target="#case-study-of-implementations">Case study of implementations</a>
  <ul class="collapse">
  <li><a href="#pharmaccess-demonstrator-momcare-programme" id="toc-pharmaccess-demonstrator-momcare-programme" class="nav-link" data-scroll-target="#pharmaccess-demonstrator-momcare-programme">PharmAccess demonstrator Momcare programme</a></li>
  <li><a href="#jembi-openhim-platform" id="toc-jembi-openhim-platform" class="nav-link" data-scroll-target="#jembi-openhim-platform">Jembi OpenHIM platform</a></li>
  <li><a href="#ona-opensrp-2" id="toc-ona-opensrp-2" class="nav-link" data-scroll-target="#ona-opensrp-2">ONA OpenSRP 2</a></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a>
  <ul class="collapse">
  <li><a href="#inclusive-by-design-datasolidarity-fairness-and-autonomy" id="toc-inclusive-by-design-datasolidarity-fairness-and-autonomy" class="nav-link" data-scroll-target="#inclusive-by-design-datasolidarity-fairness-and-autonomy">Inclusive-by-design: datasolidarity, FAIRness and autonomy</a></li>
  <li><a href="#scaleable-by-design" id="toc-scaleable-by-design" class="nav-link" data-scroll-target="#scaleable-by-design">Scaleable-by-design</a></li>
  <li><a href="#open-by-design-mitigating-risk-and-rebalancing-asymmetries" id="toc-open-by-design-mitigating-risk-and-rebalancing-asymmetries" class="nav-link" data-scroll-target="#open-by-design-mitigating-risk-and-rebalancing-asymmetries">Open-by-design: mitigating risk and rebalancing asymmetries</a></li>
  <li><a href="#limitation-and-future-work" id="toc-limitation-and-future-work" class="nav-link" data-scroll-target="#limitation-and-future-work">Limitation and future work</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#acknowledgements" id="toc-acknowledgements" class="nav-link" data-scroll-target="#acknowledgements">Acknowledgements</a></li>
  <li><a href="#conflicts-of-interest" id="toc-conflicts-of-interest" class="nav-link" data-scroll-target="#conflicts-of-interest">Conflicts of interest</a></li>
  <li><a href="#abbreviations" id="toc-abbreviations" class="nav-link" data-scroll-target="#abbreviations">Abbreviations</a></li>
  <li><a href="#bibliography" id="toc-bibliography" class="nav-link" data-scroll-target="#bibliography">References</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Design and implemention of open health data systems with standardized data and analytics capabilities for low- and middle income countries</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Daniel Kapitan <a href="mailto:daniel@kapitan.net" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0001-8979-9194" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            PharmAccess Foundation
          </p>
        <p class="affiliation">
            Eindhoven University of Technology
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Femke Heddema </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            PharmAccess Foundation
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Julie Fleischer </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            PharmAccess Foundation
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Irni Gemzon </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            PharmAccess Foundation
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Chris Ihure </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            PharmAccess Kenya
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Steven Wanyee </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            IntelliSOFT
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Alessandro Pietrobon </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            ONA
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Ryan Chrichton </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Jembi Health Systems
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">John Grimes </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Australian e-Health Research Centre
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    <p>TO DO: add abstract.</p>
  </div>
</div>

<div>
  <div class="keywords">
    <div class="block-title">Keywords</div>
    <p>Analytics-on-FHIR, SQL-on-FHIR, HIE, data platforms, LMICs, digital health</p>
  </div>
</div>

</header>


<section id="sec-introduction" class="level2">
<h2 class="anchored" data-anchor-id="sec-introduction">Introduction</h2>
<section id="the-need-for-standardized-open-health-data-systems" class="level3">
<h3 class="anchored" data-anchor-id="the-need-for-standardized-open-health-data-systems">The need for standardized open health data systems</h3>
<p>Digital transformation should be considered as a key determinant of health, but also requires a radical rethink how digital technologies should be used <span class="citation" data-cites="kickbusch2021lancet">(<a href="#ref-kickbusch2021lancet" role="doc-biblioref">Kickbusch et al., 2021</a>)</span>. Digital technologies have the potential to increase the availability, accessibility, acceptability, and quality of health services as we know them; change nature and direction of health care, and the possibility of making it more preventive, personalised, and mobile; and enfranchise patients and communities (particularly vulnerable groups), thus helping shape the health system according to the needs of the patients and communities.</p>
<p>Yet, to date the global digital health ecosystem is still project-centric, resulting in data fragmentation and technology lock-in, compromising health care delivery <span class="citation" data-cites="mehl2023fullstac">(<a href="#ref-mehl2023fullstac" role="doc-biblioref">Mehl et al., 2023</a>)</span>. There is no dearth of the number of digital health interventions: sub-Saharan Africa has seen over 700 such projects in the past 10 years. There is, however, a fundamental lack in coordination, integration, scalability, sustainability, and equitable distribution of investments in digital health. Health policymakers and the global health community at large need to urgently institute coordination mechanisms to terminate unending duplication and disjointed vertical implementations and manage solutions for scale <span class="citation" data-cites="karamagi2022ehealth">(<a href="#ref-karamagi2022ehealth" role="doc-biblioref">Karamagi et al., 2022</a>)</span>.</p>
<p>To achieve scaleability of digital health interventions, we need to design and implement standardized open health data systems (OHDS) and their associated ecosystems that can support improvements in the wider health sector along five dimensions, namely <span class="citation" data-cites="kelley2020digital">(<a href="#ref-kelley2020digital" role="doc-biblioref">Kelley et al., 2020</a>)</span>:</p>
<ol type="1">
<li>overall quality and continuity of care;</li>
<li>adherence to clinical guidelines and best practices;</li>
<li>efficiency and affordability of services and health commodities, by reducing duplication of effort and ensuring effective use of time and resources;</li>
<li>health-financing models and processes, regulation, oversight, and patient safety resulting from increased availability of performance data and reductions in errors; and</li>
<li>health policy-making and resource allocation based on better quality data.</li>
</ol>
</section>
<section id="data-analytics-functions-are-essential-in-open-health-data-systems" class="level3">
<h3 class="anchored" data-anchor-id="data-analytics-functions-are-essential-in-open-health-data-systems">Data &amp; analytics functions are essential in open health data systems</h3>
<p>Learnings from digital health interventions have shown that improvements along the five aforementioned dimensions is within reach. As an example, in our experience with the MomCare programme, we have demonstrated that routinely collected health data, combined with financial data, can be effectively used to gain insight into the continuity of care, improve clinical adherence whilst maintaining efficiency and affordability of health services in LMICs. By actively coaxing pregnant mothers to undergo 4 antenatal check-ups, outcomes were improved whilst maintaining the average cost of maternal, newborn and child health (MNCH) services <span class="citation" data-cites="huisman2022digital sanctis2022maintaining izudi2023experiences">(<a href="#ref-huisman2022digital" role="doc-biblioref">Huisman et al., 2022</a>; <a href="#ref-izudi2023experiences" role="doc-biblioref">Izudi et al., 2023</a>; <a href="#ref-sanctis2022maintaining" role="doc-biblioref">Sanctis et al., 2022</a>)</span>.</p>
<p>MomCare, like most other digital health interventions, is critically dependent on the availability of data and analytics functions within its underlying supportive OHDS. For example, the widely used DHIS2 reports that are most commonly used in LMICs contained insufficient information and analytical functions to support such interventions. To implement the value-based healthcare business logic, more detailed analytics of patient journeys is required.</p>
<p>It is in fact a widely held belief in the global digital health community that data &amp; analytics services are an essential capibility of OHDSs. This is exemplified how the OpenHIE reference architecture <span class="citation" data-cites="openhie">(<a href="#ref-openhie" role="doc-biblioref"><span>“<span>OpenHIE Framework</span> v5.0,”</span> 2022</a>)</span> has been adopted by many sub-Saharan African countries as the blueprint for implementing nation-wide health information exchanges (HIE) <span class="citation" data-cites="mamuye2022health">(<a href="#ref-mamuye2022health" role="doc-biblioref">Mamuye et al., 2022</a>)</span>, including Nigeria <span class="citation" data-cites="dalhatu2023paper">(<a href="#ref-dalhatu2023paper" role="doc-biblioref">Dalhatu et al., 2023</a>)</span>, Kenya <span class="citation" data-cites="mbugua2021adoption">(<a href="#ref-mbugua2021adoption" role="doc-biblioref">Mbugua et al., 2021</a>)</span> and Tanzania <span class="citation" data-cites="nsaghurwe2021one">(<a href="#ref-nsaghurwe2021one" role="doc-biblioref">Nsaghurwe et al., 2021</a>)</span>. These countries have, as a matter of course, extended the framework to include “data &amp; analytics services” as an additional domain <span class="citation" data-cites="mbugua2021adoption dalhatu2023paper">(<a href="#ref-dalhatu2023paper" role="doc-biblioref">Dalhatu et al., 2023</a>; <a href="#ref-mbugua2021adoption" role="doc-biblioref">Mbugua et al., 2021</a>)</span>. In terms of the often-used distinction between primary and secondary health data use <span class="citation" data-cites="cascini2024health">(<a href="#ref-cascini2024health" role="doc-biblioref">Cascini et al., 2024</a>)</span>, these countries aim to extend OpenHIE beyond it original scope of primary data sharing to also include secondary use of health data for academic research, real-world evidence studies etc. If we are to use the OpenHIE framework for data &amp; analytics as well, we need to extend the standards, technologies and architecture to include functionality to do so. The lack of detailed specifications and consensus of this addition to OpenHIE currently stands in the way of development projects that aim to establish more comprehensive platforms to support primary and secondary health data sharing in LMICs.</p>
<p>The main contribution of this paper is to propose how recent standards and open source implementations from the data engineering community can be integrated into the OpenHIE framework. In the following, we first describe how the lakehouse design pattern, being the most widely used data &amp; analytics solution architecture, can be integrated in OpenHIE. To demonstrate the feasibility of this design, we present a proof-of-concept impelementation using open source technologies within the context of the MomCare programme. Code and digital artifacts of this demonstrator is available as supplementary material [TO DO: include links to support GitHub repositories]. Subquently, we compare this solution design with two widely used and operational OpenHIE-compliant open source frameworks, namely the OpenHIM platform (<a href="https://jembi.gitbook.io/openhim-platform/">https://jembi.gitbook.io/openhim-platform/</a>) and the OnaData platform <a href="https://ona.io/home/products/ona-data/features/">https://ona.io/home/products/ona-data/features/</a>. Finally, we discuss our findings and propose routes for future development.</p>
<p>We take a narrative approach in presenting our design and the case studies, surveying existing scientific studies on OHDSs, focusing on the seminal reports and subsequently searching forward citations. In addition, we have searched the open source repositories (most notably GitHub) and the online communities (OpenHIE community, FHIR community) to search for relevant open standards, technologies and architectures. This paper should not be considered as a proper systematic review. The main contributions of this paper are i) description of a framework for the components of the Data &amp; Analysis Services that builds on current best practices from the data engineering community into the OpenHIE framework; and ii) evaluation of different implementations and design options for various data sharing scenarios within an extended OpenHIE architecture.</p>
</section>
</section>
<section id="extending-openhie-to-include-modern-data-and-analytics-standards" class="level2">
<h2 class="anchored" data-anchor-id="extending-openhie-to-include-modern-data-and-analytics-standards">Extending OpenHIE to include modern data and analytics standards</h2>
<section id="high-level-solution-design" class="level3">
<h3 class="anchored" data-anchor-id="high-level-solution-design">High-level solution design</h3>
<p>The original OpenHIE specification discerns four domains, namely Point-of-Service systems, the Interoperability Layer, Common Services and Business Services (<a href="#fig-ohie" class="quarto-xref">Figure&nbsp;1</a>). We propose to extend the OpenHIE architecture with a “Data and Analytics Services” domain with different zones taken from the data lakehouse architecture, which currently is the most commonly used design pattern in this domain <span class="citation" data-cites="armbrust2021lakehouse hai2023data harby2022data harby2024data">(<a href="#ref-armbrust2021lakehouse" role="doc-biblioref">Armbrust et al., 2021</a>; <a href="#ref-hai2023data" role="doc-biblioref">Hai et al., 2023</a>; <a href="#ref-harby2024data" role="doc-biblioref">Harby and Zulkernine, 2024</a>, <a href="#ref-harby2022data" role="doc-biblioref">2022</a>)</span>. Lakehouses typically have a zonal architecture that follow the Extract-Load-Transform pattern (ELT) where data is ingested from the source systems in bulk (E), delivered to storage with aligned schemas (L) and transformed into a format ready for analysis (T) <span class="citation" data-cites="hai2023data">(<a href="#ref-hai2023data" role="doc-biblioref">Hai et al., 2023</a>)</span>. The discerning characteristic of the lakehouse architecture is its foundation on low-cost and directly-accessible storage that also provides traditional database management and performance features such as ACID transactions, data versioning, auditing, indexing, caching, and query optimization <span class="citation" data-cites="armbrust2021lakehouse">(<a href="#ref-armbrust2021lakehouse" role="doc-biblioref">Armbrust et al., 2021</a>)</span>. Lakehouses thus combine the key benefits of data lakes and data warehouses: low-cost storage in an open format accessible by a variety of systems from the former, and powerful management and optimization features from the latter.</p>
<div id="fig-ohie" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-ohie-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Proposed extension of the OpenHIE architecture that includes “Data and Analytics Services” as an additional service domain.
</figcaption>
<div aria-describedby="fig-ohie-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./images/openhie-extended-architecture.png" class="img-fluid figure-img">
</div>
</figure>
</div>
<p>Following the terminology proposed by Hai et al. <span class="citation" data-cites="hai2023data">(<a href="#ref-hai2023data" role="doc-biblioref">Hai et al., 2023</a>)</span>, summarizes how the different zones of the lakehouse architecture can be adapted for healthcare and integrated into the OpeHIE specification. Taking Fast Healthcare Interoperability Resources (FHIR) as the open data standard<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, we envisage the extended OpenHIE architecture to include a ‘OpenHIE Lakehouse’ with the following healthcare specific adaptations of the various data &amp; analytics services:</p>
<ul>
<li><strong>Ingestion Services:</strong> use of FHIR standard to harmonize all incoming healthcare data to a common data model, including metadata extraction and metadata modeling. Should support both single-records streaming ingest as well as bulk data ingestion in batches using the Bulk FHIR API as interface <span class="citation" data-cites="mandl2020push">(<a href="#ref-mandl2020push" role="doc-biblioref">Mandl et al., 2020</a>)</span>.</li>
<li><strong>Storage Service:</strong> should support columnar storage engines optimized for analytical workloads. In case of file-based storage, use columnar file formats such as Apache Parquet. In case of databases, prefer open source engines such as Clickhouse or PostgreSQL that also support external, file-based tabels <span class="citation" data-cites="pedreira2023composable">(<a href="#ref-pedreira2023composable" role="doc-biblioref">Pedreira et al., 2023</a>)</span>.</li>
<li><strong>Maintenance:</strong> use one of the open table formats such as Apache Iceberg, Apache Hudi and/or Delta Lake <span class="citation" data-cites="jain2023analyzing">(<a href="#ref-jain2023analyzing" role="doc-biblioref">Jain et al., 2023</a>)</span> to realize dataset organization, data integration, schema evolution and data provenance. Use of SQL-on-FHIR v2 View definitions to facilitate access to FHIR resources in flattened, tabular format <span class="citation" data-cites="sql-on-fhir">(<a href="#ref-sql-on-fhir" role="doc-biblioref"><span>“<span>SQL</span> on <span>FHIR</span> speciification v0.0.1-pre,”</span> 2024</a>)</span></li>
<li><strong>Exploration:</strong> use on-demand, read-only analytical processing engines to provide a unified querying interface to access the heterogeneously structured data using new dataprocessing technologies such as DuckDB, polars etc. Should support SQL-on-FHIR Runners, such as Pathling, to generate the standardized views on demand.</li>
</ul>
<p>Strictly speaking, data consumer services are not part of the lakehouse solution design. In practice, these services are implemented using a combination of business intelligence (BI) reporting tools, and interactive development environment (IDE) to perform SQL queries and/or an interactive notebook computing environment <span class="citation" data-cites="granger2021jupyter">(<a href="#ref-granger2021jupyter" role="doc-biblioref">Granger and Perez, 2021</a>)</span>. In the discussion we will address future support of federated learning and/or secure multiparty computation network.</p>
</section>
<section id="parking-lot-following-snippets-need-reviewing-integrate-or-discard" class="level3">
<h3 class="anchored" data-anchor-id="parking-lot-following-snippets-need-reviewing-integrate-or-discard">Parking lot: following snippets need reviewing (integrate or discard)</h3>
<section id="sql-on-fhir-v2-as-an-intermediate-representation-for-fhir-data-in-tabular-format" class="level4">
<h4 class="anchored" data-anchor-id="sql-on-fhir-v2-as-an-intermediate-representation-for-fhir-data-in-tabular-format">SQL-on-FHIR v2 as an intermediate representation for FHIR data in tabular format</h4>
<p>The premise of separating the user interface from the execution engine is directly related to the key objective of the SQL-on-FHIR project (<a href="https://build.fhir.org/ig/FHIR/sql-on-fhir-v2/">https://build.fhir.org/ig/FHIR/sql-on-fhir-v2/</a>), namely to make large-scale analysis of FHIR data accessible to a larger audience, portable between systems and to make FHIR data work well with the best available analytic tools, regardless of the technology stack. However, to use FHIR effectively analysts require a thorough understanding of the specification as FHIR is represented as a graph of resources, with detailed semantics defined for references between resources, data types, terminology, extensions, and many other aspects of the specification. Most analytic and machine learning use cases require the preparation of FHIR data using transformations and tabular projections from its original form. The task of authoring these transformations and projections is not trivial and there is currently no standard mechanisms to support reuse.</p>
<p>The solution of the SQL-on-FHIR project is to provide a specification for defining tabular, use case-specific views of FHIR data. The view definition and the execution of the view are separated, in such a way that the definition is portable across systems while the execution engine (called runners) are system-specific tools or libraries that apply view definitions to the underlying data layer, optionally making use of annotations to optimize performance.</p>
<section id="ingestion" class="level5">
<h5 class="anchored" data-anchor-id="ingestion">Ingestion</h5>
<ul>
<li>Default workflow is extraction of data from SHR using Bulk FHIR API. Data contains metadata (incl.&nbsp;FHIR versions) and fully qualified semantics, for example, coding systems. Despite this, metadata extraction and metadata modeling is still required to meet the FAIR requirements. Issues that need to be solved by these services:</li>
<li>To prepare for future updates of FHIR versions</li>
<li>Implement late-binding principle of having increasingly more specific FHIR profiles as bulk FHIR data propagates through lakehouse</li>
<li>FHIR vs.&nbsp;FAIR
<ul>
<li>How does FHIR relate to approaches taken by the FAIR community, which tend to take more an approach of using knowledge graphs. For example, VODAN Africa <span class="citation" data-cites="gebreslassie2023fhir4fair purnamajati2022data">(<a href="#ref-gebreslassie2023fhir4fair" role="doc-biblioref">Gebreslassie et al., 2023</a>; <a href="#ref-purnamajati2022data" role="doc-biblioref">Purnama Jati et al., 2022</a>)</span>.</li>
<li>FAIR principles vs FHIR graph: is FHIR a FAIR Data Object</li>
</ul></li>
<li>Since we use FHIR, we don’t need a semantic layer because that is already provided</li>
<li>We do need different semantic layer, namely with metrics. Explain different types of semantics.
<ul>
<li>The metrics layer same function as CQL. Discuss CQL vs generic metrics layer.</li>
</ul></li>
</ul>
</section>
<section id="storage" class="level5">
<h5 class="anchored" data-anchor-id="storage">Storage</h5>
<ul>
<li>File-based:
<ul>
<li>from ndjson to parquet</li>
<li>possibly used delta lake for time versioning</li>
<li>separation of storage from compute not only for benefits of lower TCO, but also be ready for federated learning and MPC in future</li>
</ul></li>
</ul>
</section>
<section id="maintenance" class="level5">
<h5 class="anchored" data-anchor-id="maintenance">Maintenance</h5>
<ul>
<li>SQL-on-FHIR Views provide new standard to support mADX aggregate reporting !! We need to stress this, because this is an existing OpenHIE workflow</li>
<li>Maintenance-related functions remain the same</li>
<li>NB: orchestration falls under data provenance</li>
<li>NB: make comparison with HMIS component
<ul>
<li>workflow requirements: Report aggregate data (link): receiver is HMIS, mADX; this is not analytics!</li>
<li>Functional requirements: https://guides.ohie.org/arch-spec/openhie-component-specifications-1/openhie-health-management-information-system-hmis</li>
<li>Requirements are similar, but implementation differs: Datamodel is non-FHIR, focused on DataValue, which conceptually equates to FHIR Measure</li>
</ul></li>
</ul>
</section>
</section>
</section>
</section>
<section id="case-study-of-implementations" class="level2">
<h2 class="anchored" data-anchor-id="case-study-of-implementations">Case study of implementations</h2>
<section id="pharmaccess-demonstrator-momcare-programme" class="level3">
<h3 class="anchored" data-anchor-id="pharmaccess-demonstrator-momcare-programme">PharmAccess demonstrator Momcare programme</h3>
<p>MomCare was launched in Kenya <span class="citation" data-cites="huisman2022digital sanctis2022maintaining">(<a href="#ref-huisman2022digital" role="doc-biblioref">Huisman et al., 2022</a>; <a href="#ref-sanctis2022maintaining" role="doc-biblioref">Sanctis et al., 2022</a>)</span> and Tanzania <span class="citation" data-cites="shija2021access mrema2021application">(<a href="#ref-mrema2021application" role="doc-biblioref">Mrema, 2021</a>; <a href="#ref-shija2021access" role="doc-biblioref">Shija et al., 2021</a>)</span> in 2017 and 2019 respectively, with the objective to improve health outcomes for maternal and antenatal care. MomCare distinguishes two user groups: mothers are supported during their pregnancy through reminders and surveys, using SMS as the digital mode of engagement. Health workers are equipped with an Android-based application, in which visits, care activities and clinical observations are recorded. Reimbursements of the maternal clinic are based on the data captured with SMS and the app, thereby creating a conditional payment scheme, where providers are partially reimbursed up-front for a fixed bundle of activities, supplemented by bonus payments based on a predefined set of care activities.</p>
<p>In its original form, the MomCare programme used closed digital platforms. In Kenya, M-TIBA is the primary digital platform, on top of which a relatively lightweight custom app has been built as the engagement layer for the health workers <span class="citation" data-cites="huisman2022digital">(<a href="#ref-huisman2022digital" role="doc-biblioref">Huisman et al., 2022</a>)</span>. M-TIBA provides data access through its data warehouse platform for the MomCare programme, however, this is not a standardized, general purpose API. In the case of Tanzania, a stand-alone custom app is used which does not provide an interface of any kind for interacting with the platform <span class="citation" data-cites="mrema2021application">(<a href="#ref-mrema2021application" role="doc-biblioref">Mrema, 2021</a>)</span>. Given these constraints, the first iteration of the MomCare programme used a custom-built data warehouse environment as its main data platform, on which data extractions, transformations and analysis are performed to generate the operational reports. Feedback reports for the health workers, in the form of operational dashboards, are made accessible through the app. Similar reports are provided to the back-office for the periodic reimbursement to the clinics.</p>
<p>Clearly, a more open and scaleable platform was required if MomCare was to be implemented in more regions. This need led to a redesign of the underlying technical infrastructure of the MomCare project. The objectives of this work were in fact to demonstrate a solution design that could support the first three types of data sharing. First, to investigate the viability of using FHIR for bulk data sharing, MomCare Tanzania was used a testbed to assess the complexity and effort required to implement the facade pattern to integrate the legacy system into the FHIR data standard. Using the longitudinal dataset from approximately 28 thousand patient records, FHIR transformations script were developed and deployed using the mediator function of the IOL. The data was transformed into 10 FHIR v4 resources and the conceptual data model of the existing MomCare app could readily be transformed into the FHIR standard using SQL and validated with a Python library <span class="citation" data-cites="islam2023fhir">(<a href="#ref-islam2023fhir" role="doc-biblioref">Islam, 2023</a>)</span>. The largest challenge during the transformation process pertained to the absence of unique business identifiers for patients and healthcare organizations. For patients, either the mobile phone number or the healthcare insurance number was taken, depending on availability. A combination of name, address and latitude/longitude coordinates were used to uniquely identify organizations and locations, as Tanzania does not have a system in place for this purpose.</p>
<p>The second objective was to reproduce existing analytic reports, using the bulk FHIR data format as input. Here, the focus was to standardize the logic required for producing metrics and reports. The transformed and validated data is uploaded into the FHIR server on a daily basis using an automated cloud function. Analysis of bulk data was done by directly reading the standard newline delimited JSON into the Python pandas data analysis library. Cross checking the output with queries on the original data confirmed that the whole data pipeline produced consistent results. For example, the report of the antenatal coverage metric (number of pregnancies with four or more visits) could be reproduced per patient journey and aggregated (per year, per organization etc.) as required for the MomCare reports.</p>
<p>TO DO: explain logic of patient-timeline table. Write standard transformation to go from FHIR resources to this standard table. On top of that the actual metrics and reporting. Explain serverless: we wanted to get rid of resource-heavy data visualization tools. This led to the idea of serverless: using duckdb-wasm and pipelines of cloud functions.</p>
<p>The third objective was to run a technical feasibility test for federated analytics. Using the MPC platform of Roseman Labs, we managed to do aggregations in the blind … TO DO: explain that we managed to reproduce the reports we generated in the clear, but then in the blind. Note, however, that in the remainder we will focus on first two types of data sharing.</p>
<p>Based on these experiments, we arrived at the following design for the data &amp; analytics services</p>
<ul>
<li>Use ‘serverless’ file-based storage: bulk copy of data as-is in parquet
<ul>
<li>Tension: how to manage change data capture</li>
<li>Tension: how to manage access rights</li>
</ul></li>
<li>Use SQL-on-FHIR-v2 to create tabular views.
<ul>
<li>Example: patient timeline</li>
<li>TO DO: rewrite patient timeline queries with SQL-on-FHIR-v2 and run it with Pathling</li>
</ul></li>
<li>Use semantic modeling layer to define metrics
<ul>
<li>There are many options: dbt, cube.dev</li>
<li>Fulfills same function as ADX/mADX IHE profile in OpenHIE specification</li>
<li>Tension: going from patient-timeline to reported metrics still isn’t standardized. This is where Ibis/Substrait comes in. Substrait as IR for cross-language serialization for relational algebra. Can be executed on different backends. Write once, run on different engines.</li>
</ul></li>
<li>Distribute and publish reports on resource-constrained devices
<ul>
<li>duckdb</li>
<li>sveltekit</li>
</ul></li>
</ul>
<p>TO DO: Add diagram</p>
</section>
<section id="jembi-openhim-platform" class="level3">
<h3 class="anchored" data-anchor-id="jembi-openhim-platform">Jembi OpenHIM platform</h3>
<p>To evaluate the extended OpenHIE architecture described above, we first consider the OpenHIM Platform. The Open Health Information Mediator (OpenHIM, <a href="OpenHIMhttp://openhim.org/">http://openhim.org/</a>)) component is the reference implementation of the Interoperability Layer (IOL) as defined in the OpenHIE specification. The most current version (8.4.2 at the time of writing) provides all the core functions including central point of access for the services of the HIE; routing functions; central logging for auditing and debugging purposes; and orchestration/mediation mechanisms to co-ordinate requests. By extension, the OpenHIM Platform (<a href="https://jembi.gitbook.io/openhim-platform">https://jembi.gitbook.io/openhim-platform</a>) is a reference implementation of a set of Instant OpenHIE configurations, refered to as ‘recipes’ in the documentation. In the following we will evaluate the recipe for “a central data repository with a data warehouse” that provides “A FHIR-based Shared Health record linked to a Master Patient Index (MPI) for linking and mathing patient demographics and a default reporting pipeline to transform and visualise FHIR data” (<a href="https://jembi.gitbook.io/openhim-platform/recipes/central-data-repository-with-data-warehousing">https://jembi.gitbook.io/openhim-platform/recipes/central-data-repository-with-data-warehousing</a>).</p>
<div id="fig-openhim-platform" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-openhim-platform-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Overview of the default data stack of the OpenHIM Platform. The default stack (top, red) consists of Kafka, Clickhouse and Superset. An alternative solution based on the ELK stack is also supported (bottom, orange), consisting of Elasticsearch, Logstash and Kibana.
</figcaption>
<div aria-describedby="fig-openhim-platform-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/openhim-platform.png" class="img-fluid figure-img">
</div>
</figure>
</div>
<p><a href="#fig-openhim-platform" class="quarto-xref">Figure&nbsp;2</a> shows a schematic overview of two data stacks that are supported in the OpenHIM platform. The Shared Health Record (SHR, implemented with HAPI FHIR server) and the Client Registry (CR, implemented with JeMPI server) are the sources that store clinical FHIR data and patient demographic data, respectively. The default data stack is based on streaming ingestion using Kafka into a Clickhouse database. As part of the ingestion, incoming FHIR bundles that contain multiple FHIR resources are unbundled in separate topics using a generic Kafka utility component. Subsequently, each FHIR resource topic is flatted with Kafka mappers that use FHIRPath. Superset is used as the tool for consuming the data to create dashboard visualizations.</p>
<p>The OpenHIM platform also support data and analytics based on the ELK stack, where data is ingested in bulk using Logstash, stored in Elasticsearch and made available for consumption in Kibana. Also here, the incoming FHIR bundles are unbundled in Logstash into separate FHIR resources. However, given that Elasticsearch is a document-based search engine, the FHIR resources are stored as-is with no flattening. Exploring and analysing the data requires writing queries in Elasticsearch Query Language (ES|QL), either through the query interface of Elasticsearch or using Kibana.</p>
<p>Evaluating these two data stacks, we see the following:</p>
<ul>
<li>Pattern of flattening FHIR resources with FHIRPath expressions is very close to the idea of SQL-on-FHIR. Although it doesn’t adhere to this new standard in the strict sense, the philosophy of generating tabular views is the same</li>
<li>When using the ELK stack, flattening is done at the end. Implementations of FHIRPath support Elasticsearch as an execution engine, also here</li>
<li>Main limitations: both Clickhouse en Elasticsearch don’t follow decomposition of storage, compute and UI. Therefore, downward scaleability is limited.</li>
</ul>
</section>
<section id="ona-opensrp-2" class="level3">
<h3 class="anchored" data-anchor-id="ona-opensrp-2">ONA OpenSRP 2</h3>
<p>Continuing our evaluation of the extended OpenHIE architecture, we can see a different flavor in the implementation driven by Ona. Ona is a social enterprise that has pioneered the adoption of FHIR data standard via the development of OpenSRP2, a FHIR-based data collection app built using Google’s FHIR SDK and focused on enabling offline-first workflows for community-based care. OpenSRP 2 is a complete rewrite of the original OpenSRP application, a global public good maintained by Ona and deployed in XX countries worldwide.</p>
<p>OpenSRP2 applications are currently implemented in the field in three countries (Uganda, Liberia, and Madagascar) in collaboration with local Ministries of Health and with international donors such as UNICEF, supporting a variety of different workflows including antenatal care (ANC), postnatal Care (PNC), immunization, and last-mile logistics. Besides the OpenSRP Android application and HAPI-FHIR backend, in each of its projects Ona also implements a companion set of tools that support analytics and various reporting needs.</p>
<section id="requirements-for-data-sharing" class="level5">
<h5 class="anchored" data-anchor-id="requirements-for-data-sharing">Requirements for data sharing</h5>
<p>Based on years of work in global health, Ona has learned that the data stack implemented to support a national-scale implementation of its FHIR-based application responds to the following requirements.</p>
<div id="tbl-ona-requirements" class="striped hover responsive quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-ona-requirements-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Requirements and rationale for open health data platform developed and used by ONA, based on OpenSRP 2 (<a href="https://opensrp.io/">https://opensrp.io/</a>).
</figcaption>
<div aria-describedby="tbl-ona-requirements-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="table-responsive">
<table class="table-striped table-hover table">
<colgroup>
<col style="width: 28%">
<col style="width: 71%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Requirement</th>
<th style="text-align: left;">Rationale</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ingest data from multiple sources, both FHIR and non-FHIR based.</td>
<td style="text-align: left;">While most health record data can be collected and aggregated in FHIR, Ministries of Health rely on other data sources to govern their operations. For example, operationalizing an immunization campaign usually includes tracking against specific targets for locations to be visited on specific days and number of children to immunize per day. Such targets are often stored in spreadsheets or other applications where the data is not FHIR.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ingest data in batches.</td>
<td style="text-align: left;">Most data ingestion can happen in batches, since Ona’s applications are deployed in hard to reach areas where connectivity is an issue. Data ingestion closer to real-time can be relevant for disaster-response and other time-sensitive applications, but this is not a priority.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Support national-scale data volumes.</td>
<td style="text-align: left;">A data store that can grow from dozens to thousands of devices and where data can be aggregated up to the national level, matching the scale of implementation of data collection applications in the field.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Pre-compute complex business metrics.</td>
<td style="text-align: left;">Reporting on health systems requires pre-computing complex metrics and often performing cohort analyses to map trends in service provision. For example, understanding quality of care for children requires computing metrics such as the percentage of children fully immunized on schedule (i.e.&nbsp;children 6-59 months that have received the set of vaccines required by the Ministry of Health, and have received each of those vaccines within the expected age-window). For Business Intelligence applications, calculating such a vital metric cannot be performed at run time, to avoid long and expensive queries.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Outbound integrations.</td>
<td style="text-align: left;">While aggregated data and reports should be accessible by other applications such as BI platforms via pulls, there should be an easy integration framework to push data to other applications used by the Ministry of Health for other purposes, such as DHIS2 for health systems management or RapidPro for communications with program beneficiaries.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Open source and easily deployable in-country.</td>
<td style="text-align: left;">Given the extremely sensitive nature of health data, it is paramount for governments to have the flexibility to deploy the stack in various different environments, both on premise and in private clouds.</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
<p>The architecture Learning from experience in the field and internal research and development, Ona has developed preferences for a specific data stack responding to the aforementioned requirements.</p>
<p>[[graphic]]</p>
<p>Core toolings in the stack include: Data ingestion with Airbyte. Ona uses Airbyte as the primary data ingestion tool, leveraging the wide array of connectors that come standard with the application as well as a dedicated suite of connectors developed internally by Ona, including HAPI FHIR, RapidPro, Ona Data, Kobo Toolbox and others.<br>
Data storage with Clickhouse. While different health projects have varying requirements, Ona has found success in using Clickhouse as the main analytics data store in its most recent implementations. Clickhouse supports the scale required for analytics at a national level, as well as the speed that enables cross-application integrations and more real-time analytics. For example, in Madagascar Ona uses its reporting suite to identify facilities with stock in need of maintenance and can trigger the scheduling of a maintenance visit ad hoc. Data transformation with dbt. Following global best practice, Ona leverages dbt to segregate the data warehouse in different levels (staging, marts, metrics), as well as pre-computing complex indicators for ease of reporting and for transmissions into other systems. For example, in Liberia Ona implements OpenSRP at community health worker level, but can aggregate immunization data at facility level in the data warehouse and then push quarterly summary metrics to DHIS2. No recommendation on reporting / BI tooling. Ona recognizes that business users have their own strong preferences for BI tooling, and some already have licenses for specific software, so the architecture is flexible to provide easy connections to different BI tools.</p>
<p>Evaluation</p>
<p>Evaluating the data stack, we see the following: Use of generic best-of-breed tooling. Ona focused on utilizing Open HIE tools that are widely adopted outside of the global health and development sectors. This approach aims to provide assurance on two main fronts, the ability to handle performance at scale and the long term dependability of the tools, rather than relying on smaller projects with uncertain long term funding or unproven implementations. Columnar data warehouse for analytics. The scale of Ona’s project requires the implementation of a dedicated database for analytics. While original data can still be stored as parquet or other file system, being able to ingest it into a relational data store allows to create well defined indicators. Using clickhouse as a tool helps and combine the need accuracy with the speed of reporting as new data is ingested.<br>
Strong emphasis on SQL. While Ona has tested and experimented with FHIR-specific tooling, such as the definition of data projections using sql-on-fhir, Ona found that relying on sql for coding business logic remained the faster and most scalable approach.</p>
<p>In summary, for Ona building analytics with FHIR data looks similar to building analytics with any other type of data. While FHIR provides a clear and standard data model, managing information for most health systems requires custom integration of data between different sources, as well as computing indicators using business logic specific to the needs of the local users. Building upon well established best-of-breed tools allows Ona to implement FHIR applications at scale and provide trusted analytics on top.</p>
</section>
</section>
</section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion">Discussion</h2>
<p>Given the solution design, and evaluation of the three case studies, we discuss the pros and cons from different perspectives that we believe are essential design principles to realise solidarity-based OHDSs, namely [TO DO: this is just first shot at formulating our design principles; needs refinement]:</p>
<ul>
<li>inclusive-by-design, based on the notions of datasolidarity and maximising autonomy of all future participants in the ecosystem;</li>
<li>scaleable-by-design, particularly focusing on downward scaleability to support a decentralized platform topology to allows for bottom-up deployment scenarios (from local care networks –&gt; county-level networks –&gt; national networks) instead of top-down national roll-out;</li>
<li>open-by-design, whereby a balance is found to resort to minimal standards and allow for a large diversity of partners and technologies to be used;</li>
</ul>
<section id="inclusive-by-design-datasolidarity-fairness-and-autonomy" class="level3">
<h3 class="anchored" data-anchor-id="inclusive-by-design-datasolidarity-fairness-and-autonomy">Inclusive-by-design: datasolidarity, FAIRness and autonomy</h3>
<ul>
<li>which can be framed within the context of ongoing efforts towards Findable, Accessible, Interoperable and Reusable (FAIR) sharing of health data <span class="citation" data-cites="guillot2023fair">(<a href="#ref-guillot2023fair" role="doc-biblioref">Guillot et al., 2023</a>)</span>.</li>
<li>equitable data sharing requires more than just FAIRification <span class="citation" data-cites="evertz2023what">(<a href="#ref-evertz2023what" role="doc-biblioref"><strong>evertz2023what?</strong></a>)</span></li>
</ul>
</section>
<section id="scaleable-by-design" class="level3">
<h3 class="anchored" data-anchor-id="scaleable-by-design">Scaleable-by-design</h3>
<p>Today, many components of the OpenHIE specification are now available as a digital public goods. Typically, these open source components are intended to support deployments in small countries (population up to 10 million) or large NGOs out of the box, and should provide a stepping stone for customized deployments in medium-sized countries (population around 40 million).<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> To further ease the development, configuration and deployment of health information exchanges, the concept of ‘Instant OpenHIE’ has been championed to (i) allow implementers to engage with a preconfigured health information exchange solution and running tools (based on the architecture) and test their applicability and functionality with a real health context problem; and (ii) have a packaged reference version of the OpenHIE architecture that is comprised of a set of reference technologies and other appropriate tools that form the building blocks of the health information exchange that can be configured and extended to support particular use cases <span class="citation" data-cites="InstantOpenHIEv2">(<a href="#ref-InstantOpenHIEv2" role="doc-biblioref"><span>“Instant <span>OpenHIE</span> v2.2.0,”</span> 2024</a>)</span>. Besides the core functional components of the OpenHIE architecture, the Instant OpenHIE toolkit allows packaging and integration of generic components such as Identity and Access Managment (IAM) and a reverse proxy gateway. In the following, we will evaluatie three of such configurations, with the aim to conceptualize and evaluate the proposed Data and Analytics Services domain of of the OpenHIE architecture.</p>
<p>We also posit that a decentralized platform is more conducive to realize a solidarity-based approach to health data sharing that i) gives people a greater control over their data as active decision makers; ii) ensures that the value of data is harnessed for public good; and iii) moves society towards equity and justice by counteracting dynamics of data extraction <span class="citation" data-cites="prainsack2022data">(<a href="#ref-prainsack2022data" role="doc-biblioref">Prainsack et al., 2022</a>)</span>. With this approach, we purposefully challenge the dominant paradigm of designing and implementing centralized platforms to support the digital transformation of healthcare in LMICs <span class="citation" data-cites="ogundaini2022systematic">(<a href="#ref-ogundaini2022systematic" role="doc-biblioref">Ogundaini and Achieng, 2022</a>)</span> with the aim to make digital platforms work <em>for</em> development <span class="citation" data-cites="hermes2020digital">(<a href="#ref-hermes2020digital" role="doc-biblioref">Hermes et al., 2020</a>)</span>.</p>
<p>[TO DO: elaborate on how we see this solution design can be implemented from the bottom-up, typically in a primary care network serving a population of around 80,000 people with level 3 facilities that have limited resources]</p>
<div id="tbl-kenya-facilities" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-kenya-facilities-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Number of healthcare facilities in Kenya. Source: Kenya Health Facility Census, Ministry of Health, September 2023.
</figcaption>
<div aria-describedby="tbl-kenya-facilities-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 13%">
<col style="width: 61%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Level</th>
<th>Description</th>
<th style="text-align: right;">Number of facilities</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">2</td>
<td>Dispensaries and private clincs, typically located in a school, industrial plant or other organization that dispenses medication and sometimes basic medical and dental treatment</td>
<td style="text-align: right;">8,806</td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td>Health centres, medium-sized units which cater for a population of about 80,000 people</td>
<td style="text-align: right;">2,559</td>
</tr>
<tr class="odd">
<td style="text-align: center;">4</td>
<td>Sub-county hospital, similar to health centres with additional facilities for more complex procedures</td>
<td style="text-align: right;">971</td>
</tr>
<tr class="even">
<td style="text-align: center;">5</td>
<td>County referral hospital, regional centres which provide specialised care</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="odd">
<td style="text-align: center;">6</td>
<td>National referral hospital</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="open-by-design-mitigating-risk-and-rebalancing-asymmetries" class="level3">
<h3 class="anchored" data-anchor-id="open-by-design-mitigating-risk-and-rebalancing-asymmetries">Open-by-design: mitigating risk and rebalancing asymmetries</h3>
<p>The shift in perspective from digital platforms to data platforms coincides with the paradox of open <span class="citation" data-cites="keller2021paradox">(<a href="#ref-keller2021paradox" role="doc-biblioref">Keller and Tarkowski, 2021</a>)</span>. Originally, openness of digital platforms focused on open source and open standards (as shown above for OpenHIE) which by has been superseded by “… conflicts about privacy, economic value extraction, the emergence of artificial intelligence, and the destabilizing effects of dominant platforms on (democratic) societies. Instead of access to information, the control of personal data has emerged in the age of platforms as the critical contention.” <span class="citation" data-cites="keller2021paradox">(<a href="#ref-keller2021paradox" role="doc-biblioref">Keller and Tarkowski, 2021</a>)</span>. These conflicts are particularly salient in the healthcare domain, where people are generally willing to share their health data to receive the best care (primary use, which is aligned with the concept of digital platforms), while the attitude towards secondary use of health data (conceptually aligned with a data platform) varies greatly depending on the type and context <span class="citation" data-cites="cascini2024health">(<a href="#ref-cascini2024health" role="doc-biblioref">Cascini et al., 2024</a>)</span>. The shift in perspective from digital platforms supporting primary data sharing toward data platforms supporting secondary data sharing is one of the key issues surrounding the polemic of data spaces <span class="citation" data-cites="otto2022designing">(<a href="#ref-otto2022designing" role="doc-biblioref">Otto et al., 2022</a>)</span> and data solidarity <span class="citation" data-cites="kickbusch2021lancet prainsack2022data prainsack2023beyond purtova2023data">(<a href="#ref-kickbusch2021lancet" role="doc-biblioref">Kickbusch et al., 2021</a>; <a href="#ref-prainsack2022data" role="doc-biblioref">Prainsack et al., 2022</a>; <a href="#ref-prainsack2023beyond" role="doc-biblioref">Prainsack and El-Sayed, 2023</a>; <a href="#ref-purtova2023data" role="doc-biblioref">Purtova and van Maanen, 2023</a>)</span>.</p>
<ul>
<li>Risk of openness: What are the novel (negative) implications of opening up data platforms? How can reflexivity in design help providers to resolve the negative implications of openness?</li>
<li>Answers/insights to above:
<ul>
<li>Openness of standardized view on FHIR data and cross-language serialization of relational algebra makes it possible to fully standardize the workflow from start to finish</li>
<li>Platform-to-platform: MPC</li>
<li>Risk of openness: difficult to answer …</li>
</ul></li>
<li>Paradox of open in disucssion: we started with hypotheses that a decentralized approach will lead to distribution of power, hence … But is this really the case? Will open source not backfire and strengthen their position?</li>
</ul>
</section>
<section id="limitation-and-future-work" class="level3">
<h3 class="anchored" data-anchor-id="limitation-and-future-work">Limitation and future work</h3>
<ul>
<li>Access control is still a pain-point, can we move to Attribute-based access control?
<ul>
<li>TO DO: if you have generated flattened SQL tables, how are you going to manage security?</li>
<li>Cerbos, attribute based on lineage or anonymized tables</li>
<li>Catalogs solve this: Tabular.io, Google BigLake. What is open source option?</li>
</ul></li>
<li>Federated learning and multiparty computation
<ul>
<li>Lakehouse serves as datastations</li>
<li>Explain first results Roseman Labs</li>
</ul></li>
<li>… [more future work items here]</li>
</ul>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
</section>
<section id="acknowledgements" class="level2">
<h2 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h2>
</section>
<section id="conflicts-of-interest" class="level2">
<h2 class="anchored" data-anchor-id="conflicts-of-interest">Conflicts of interest</h2>
<p>DK received funding from PharmAccess to conduct this work as a contractor. SW/IntelliSOFT received funding from PharmAccess as an implementation partner in various projects. AP/ONA received funding from PharmAccess to develop an improved version of one of the components of the open source OpenSRP 2 framework.</p>
</section>
<section id="abbreviations" class="level2">
<h2 class="anchored" data-anchor-id="abbreviations">Abbreviations</h2>
<table class="table">
<tbody>
<tr class="odd">
<td style="text-align: left;">ACID</td>
<td style="text-align: left;">Atomicity, Consistency, Isolation, and Durability</td>
</tr>
<tr class="even">
<td style="text-align: left;">CLI</td>
<td style="text-align: left;">Command-line Interface</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CR</td>
<td style="text-align: left;">Client Registry</td>
</tr>
<tr class="even">
<td style="text-align: left;">DHI</td>
<td style="text-align: left;">Digital Health Intervention</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ELK</td>
<td style="text-align: left;">Elasticsearch, Logstach and Kibana stack</td>
</tr>
<tr class="even">
<td style="text-align: left;">ELT</td>
<td style="text-align: left;">Extract, Load and Transform</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FAIR</td>
<td style="text-align: left;">Findable, Accessible, Interoperable and Reusable</td>
</tr>
<tr class="even">
<td style="text-align: left;">FHIR</td>
<td style="text-align: left;">Fast Healthcare Interoperability Resources</td>
</tr>
<tr class="odd">
<td style="text-align: left;">FL</td>
<td style="text-align: left;">Federated learning</td>
</tr>
<tr class="even">
<td style="text-align: left;">HIE</td>
<td style="text-align: left;">Health Information Exchange</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LMIC</td>
<td style="text-align: left;">Low- and middle income countries</td>
</tr>
<tr class="even">
<td style="text-align: left;">MPC</td>
<td style="text-align: left;">Multiparty Computation</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PET</td>
<td style="text-align: left;">Privacy-enhancing technologies</td>
</tr>
<tr class="even">
<td style="text-align: left;">OHDS</td>
<td style="text-align: left;">Open health data system</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SHR</td>
<td style="text-align: left;">Shared Health Record</td>
</tr>
</tbody>
</table>
</section>
<section id="bibliography" class="level1 unnumbered">


</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-armbrust2021lakehouse" class="csl-entry" role="listitem">
Armbrust, M., Ghodsi, A., Xin, R., Zaharia, M., 2021. Lakehouse: <span>A New Generation</span> of <span>Open Platforms</span> that <span>Unify Data Warehousing</span> and <span>Advanced Analytics</span>, in: 11th <span>Annual Conference</span> on <span>Innovative Data Systems Research</span> (<span>CIDR</span> ’21). p. 8.
</div>
<div id="ref-cascini2024health" class="csl-entry" role="listitem">
Cascini, F., Pantovic, A., Al-Ajlouni, Y.A., Puleo, V., De Maio, L., Ricciardi, W., 2024. Health data sharing attitudes towards primary and secondary use of data: A systematic review. eClinicalMedicine 71, 102551. <a href="https://doi.org/10.1016/j.eclinm.2024.102551">https://doi.org/10.1016/j.eclinm.2024.102551</a>
</div>
<div id="ref-dalhatu2023paper" class="csl-entry" role="listitem">
Dalhatu, I., Aniekwe, C., Bashorun, A., Abdulkadir, A., Dirlikov, E., Ohakanu, S., Adedokun, O., Oladipo, A., Jahun, I., Murie, L., Yoon, S., Abdu-Aguye, M.G., Sylvanus, A., Indyer, S., Abbas, I., Bello, M., Nalda, N., Alagi, M., Odafe, S., Adebajo, S., Ogorry, O., Akpu, M., Okoye, I., Kakanfo, K., Onovo, A.A., Ashefor, G., Nzelu, C., Ikpeazu, A., Aliyu, G., Ellerbrock, T., Boyd, M., Stafford, K.A., Swaminathan, M., 2023. From <span>Paper Files</span> to <span>Web-Based Application</span> for <span>Data-Driven Monitoring</span> of <span>HIV Programs</span>: <span>Nigeria</span>’s <span>Journey</span> to a <span>National Data Repository</span> for <span>Decision-Making</span> and <span>Patient Care</span>. Methods of Information in Medicine 62, 130–139. <a href="https://doi.org/10.1055/s-0043-1768711">https://doi.org/10.1055/s-0043-1768711</a>
</div>
<div id="ref-gebreslassie2023fhir4fair" class="csl-entry" role="listitem">
Gebreslassie, T.G., van Reisen, M., Amare, S.Y., Taye, G.T., Plug, R., 2023. <span>FHIR4FAIR</span>: <span>Leveraging FHIR</span> in health data <span>FAIRfication</span> process: <span>In</span> the case of <span>VODAN-A</span>. FAIR Connect 1, 49–54. <a href="https://doi.org/10.3233/FC-230504">https://doi.org/10.3233/FC-230504</a>
</div>
<div id="ref-granger2021jupyter" class="csl-entry" role="listitem">
Granger, B.E., Perez, F., 2021. Jupyter: <span>Thinking</span> and <span>Storytelling With Code</span> and <span>Data</span>. Computing in Science &amp; Engineering 23, 7–14. <a href="https://doi.org/10.1109/MCSE.2021.3059263">https://doi.org/10.1109/MCSE.2021.3059263</a>
</div>
<div id="ref-guillot2023fair" class="csl-entry" role="listitem">
Guillot, P., Bøgsted, M., Vesteghem, C., 2023. <span>FAIR</span> sharing of health data: A systematic review of applicable solutions. Health and Technology 13, 869–882. <a href="https://doi.org/10.1007/s12553-023-00789-5">https://doi.org/10.1007/s12553-023-00789-5</a>
</div>
<div id="ref-hai2023data" class="csl-entry" role="listitem">
Hai, R., Koutras, C., Quix, C., Jarke, M., 2023. Data <span>Lakes</span>: <span>A Survey</span> of <span>Functions</span> and <span>Systems</span>. IEEE Transactions on Knowledge and Data Engineering 35, 12571–12590. <a href="https://doi.org/10.1109/TKDE.2023.3270101">https://doi.org/10.1109/TKDE.2023.3270101</a>
</div>
<div id="ref-harby2024data" class="csl-entry" role="listitem">
Harby, A.A., Zulkernine, F., 2024. Data <span>Lakehouse</span>: <span>A Survey</span> and <span>Experimental Study</span>. <a href="https://doi.org/10.2139/ssrn.4765588">https://doi.org/10.2139/ssrn.4765588</a>
</div>
<div id="ref-harby2022data" class="csl-entry" role="listitem">
Harby, A.A., Zulkernine, F., 2022. From <span>Data Warehouse</span> to <span>Lakehouse</span>: <span>A Comparative Review</span>, in: 2022 <span>IEEE International Conference</span> on <span>Big Data</span> (<span>Big Data</span>). IEEE, Osaka, Japan, pp. 389–395. <a href="https://doi.org/10.1109/BigData55660.2022.10020719">https://doi.org/10.1109/BigData55660.2022.10020719</a>
</div>
<div id="ref-hermes2020digital" class="csl-entry" role="listitem">
Hermes, S., Riasanow, T., Clemons, E.K., Böhm, M., Krcmar, H., 2020. The digital transformation of the healthcare industry: Exploring the rise of emerging platform ecosystems and their influence on the role of patients. Business Research 13, 1033–1069. <a href="https://doi.org/10.1007/s40685-020-00125-x">https://doi.org/10.1007/s40685-020-00125-x</a>
</div>
<div id="ref-huisman2022digital" class="csl-entry" role="listitem">
Huisman, L., van Duijn, S.M., Silva, N., van Doeveren, R., Michuki, J., Kuria, M., Otieno Okeyo, D., Okoth, I., Houben, N., Rinke de Wit, T.F., Rogo, K., 2022. A digital mobile health platform increasing efficiency and transparency towards universal health coverage in low- and middle-income countries. Digital Health 8, 20552076221092213. <a href="https://doi.org/10.1177/20552076221092213">https://doi.org/10.1177/20552076221092213</a>
</div>
<div id="ref-InstantOpenHIEv2" class="csl-entry" role="listitem">
Instant <span>OpenHIE</span> v2.2.0, 2024.
</div>
<div id="ref-islam2023fhir" class="csl-entry" role="listitem">
Islam, M.N., 2023. Fhir.resources: <span>FHIR Resources</span> as <span>Model Class</span>.
</div>
<div id="ref-izudi2023experiences" class="csl-entry" role="listitem">
Izudi, J., Owoko, H.O., Bagayoko, M., Kadengye, D., 2023. Experiences of mothers and health workers with <span>MomCare</span> and <span>SafeCare</span> bundles in <span>Kenya</span> and <span>Tanzania</span>: <span>A</span> qualitative evaluation. PloS One 18, e0294536. <a href="https://doi.org/10.1371/journal.pone.0294536">https://doi.org/10.1371/journal.pone.0294536</a>
</div>
<div id="ref-jain2023analyzing" class="csl-entry" role="listitem">
Jain, P., Kraft, P., Power, C., Das, T., Stoica, I., Zaharia, M., 2023. Analyzing and <span>Comparing Lakehouse Storage Systems</span>.
</div>
<div id="ref-karamagi2022ehealth" class="csl-entry" role="listitem">
Karamagi, H.C., Muneene, D., Droti, B., Jepchumba, V., Okeibunor, J.C., Nabyonga, J., Asamani, J.A., Traore, M., Kipruto, H., 2022. <span class="nocase">eHealth</span> or e-<span>Chaos</span>: <span>The</span> use of <span>Digital Health Interventions</span> for <span>Health Systems Strengthening</span> in sub-<span>Saharan Africa</span> over the last 10 years: <span>A</span> scoping review. Journal of Global Health 12, 04090. <a href="https://doi.org/10.7189/jogh.12.04090">https://doi.org/10.7189/jogh.12.04090</a>
</div>
<div id="ref-keller2021paradox" class="csl-entry" role="listitem">
Keller, P., Tarkowski, A., 2021. The <span>Paradox</span> of <span>Open</span>. Open Future.
</div>
<div id="ref-kelley2020digital" class="csl-entry" role="listitem">
Kelley, E., Zandi, D., Krishnamurthy, R., Mehl, G., Novillo, D., Muneene, D., Nour, M., Taliesin, B., Leitner, C., Althauser, C., Schaefer, M., Ganesh, J., Marcelo, A., Ramkumar, P.S., Vota, W., Kumar, M., Joshi, S., Shehadeh, M.H., Nueno, V.P., Pye, E., Shokralla, M., 2020. Digital <span>Health Platform Handbook</span>: <span>Building</span> a <span>Digital Information Infrastructure</span> (<span>Infostructure</span>) for <span>Health</span>.
</div>
<div id="ref-kickbusch2021lancet" class="csl-entry" role="listitem">
Kickbusch, I., Piselli, D., Agrawal, A., Balicer, R., Banner, O., Adelhardt, M., Capobianco, E., Fabian, C., Gill, A.S., Lupton, D., Medhora, R.P., Ndili, N., Ryś, A., Sambuli, N., Settle, D., Swaminathan, S., Morales, J.V., Wolpert, M., Wyckoff, A.W., Xue, L., Bytyqi, A., Franz, C., Gray, W., Holly, L., Neumann, M., Panda, L., Smith, R.D., Stevens, E.A.G., Wong, B.L.H., 2021. The <span>Lancet</span> and <span>Financial Times Commission</span> on governing health futures 2030: Growing up in a digital world. The Lancet 398, 1727–1776. <a href="https://doi.org/10.1016/S0140-6736(21)01824-9">https://doi.org/10.1016/S0140-6736(21)01824-9</a>
</div>
<div id="ref-mamuye2022health" class="csl-entry" role="listitem">
Mamuye, A.L., Yilma, T.M., Abdulwahab, A., Broomhead, S., Zondo, P., Kyeng, M., Maeda, J., Abdulaziz, M., Wuhib, T., Tilahun, B.C., 2022. Health information exchange policy and standards for digital health systems in africa: <span>A</span> systematic review. PLOS Digital Health 1, e0000118. <a href="https://doi.org/10.1371/journal.pdig.0000118">https://doi.org/10.1371/journal.pdig.0000118</a>
</div>
<div id="ref-mandl2020push" class="csl-entry" role="listitem">
Mandl, K.D., Gottlieb, D., Mandel, J.C., Ignatov, V., Sayeed, R., Grieve, G., Jones, J., Ellis, A., Culbertson, A., 2020. Push <span>Button Population Health</span>: <span>The SMART</span>/<span>HL7 FHIR Bulk Data Access Application Programming Interface</span>. npj Digital Medicine 3, 1–9. <a href="https://doi.org/10.1038/s41746-020-00358-4">https://doi.org/10.1038/s41746-020-00358-4</a>
</div>
<div id="ref-mbugua2021adoption" class="csl-entry" role="listitem">
Mbugua, S., Korongo, J., Joram, M., Chuma Benard, M., Nambiro, A., 2021. Adoption of <span>ICT</span> to <span>Enhance Access</span> to <span>Healthcare</span> in <span>Kenya</span>. IOSR Journal of Computer Engineering 23, 45–50. <a href="https://doi.org/10.9790/0661-2302024550">https://doi.org/10.9790/0661-2302024550</a>
</div>
<div id="ref-mehl2023fullstac" class="csl-entry" role="listitem">
Mehl, G.L., Seneviratne, M.G., Berg, M.L., Bidani, S., Distler, R.L., Gorgens, M., Kallander, K.E., Labrique, A.B., Landry, M.S., Leitner, C., Lubell-Doughtie, P.B., Marcelo, A.D., Matias, Y., Nelson, J., Nguyen, V., Nsengimana, J.P., Orton, M., Otzoy Garcia, D.R., Oyaole, D.R., Ratanaprayul, N., Roth, S., Schaefer, M.P., Settle, D., Tang, J., Tien-Wahser, B., Wanyee, S., Hersch, F., 2023. A full-<span>STAC</span> remedy for global digital health transformation: Open standards, technologies, architectures and content. Oxford Open Digital Health 1, oqad018. <a href="https://doi.org/10.1093/oodh/oqad018">https://doi.org/10.1093/oodh/oqad018</a>
</div>
<div id="ref-mrema2021application" class="csl-entry" role="listitem">
Mrema, A., 2021. Application of <span>Digital Platform</span> to <span>Enhance Quality Improvement</span> in <span>Momcare Facilities</span> in <span>Manyara</span>. AIJR Abstracts.
</div>
<div id="ref-nsaghurwe2021one" class="csl-entry" role="listitem">
Nsaghurwe, A., Dwivedi, V., Ndesanjo, W., Bamsi, H., Busiga, M., Nyella, E., Massawe, J.V., Smith, D., Onyejekwe, K., Metzger, J., Taylor, P., 2021. One country’s journey to interoperability: <span>Tanzania</span>’s experience developing and implementing a national health information exchange. BMC Medical Informatics and Decision Making 21, 139. <a href="https://doi.org/10.1186/s12911-021-01499-6">https://doi.org/10.1186/s12911-021-01499-6</a>
</div>
<div id="ref-ogundaini2022systematic" class="csl-entry" role="listitem">
Ogundaini, O.O., Achieng, M.S., 2022. Systematic review: <span>Decentralised</span> health information systems implementation in sub-<span>Saharan Africa</span>. Journal for Transdisciplinary Research in Southern Africa 18, 1–10. <a href="https://doi.org/10.4102/td.v18i1.1216">https://doi.org/10.4102/td.v18i1.1216</a>
</div>
<div id="ref-openhie" class="csl-entry" role="listitem">
<span>OpenHIE Framework</span> v5.0, 2022. OpenHIE.
</div>
<div id="ref-otto2022designing" class="csl-entry" role="listitem">
Otto, B., Ten Hompel, M., Wrobel, S. (Eds.), 2022. Designing <span>Data Spaces</span>: <span>The Ecosystem Approach</span> to <span>Competitive Advantage</span>. Springer International Publishing, Cham. <a href="https://doi.org/10.1007/978-3-030-93975-5">https://doi.org/10.1007/978-3-030-93975-5</a>
</div>
<div id="ref-pedreira2023composable" class="csl-entry" role="listitem">
Pedreira, P., Erling, O., Karanasos, K., Schneider, S., McKinney, W., Valluri, S.R., Zait, M., Nadeau, J., 2023. The <span>Composable Data Management System Manifesto</span>. Proceedings of the VLDB Endowment 16, 2679–2685. <a href="https://doi.org/10.14778/3603581.3603604">https://doi.org/10.14778/3603581.3603604</a>
</div>
<div id="ref-prainsack2023beyond" class="csl-entry" role="listitem">
Prainsack, B., El-Sayed, S., 2023. Beyond <span>Individual Rights</span>: <span>How Data Solidarity Gives People Meaningful Control</span> over <span>Data</span>. The American Journal of Bioethics 23, 36–39. <a href="https://doi.org/10.1080/15265161.2023.2256267">https://doi.org/10.1080/15265161.2023.2256267</a>
</div>
<div id="ref-prainsack2022data" class="csl-entry" role="listitem">
Prainsack, B., El-Sayed, S., Forgó, N., Szoszkiewicz, Ł., Baumer, P., 2022. Data solidarity: A blueprint for governing health futures. The Lancet Digital Health 4, e773–e774. <a href="https://doi.org/10.1016/S2589-7500(22)00189-3">https://doi.org/10.1016/S2589-7500(22)00189-3</a>
</div>
<div id="ref-purnamajati2022data" class="csl-entry" role="listitem">
Purnama Jati, P.H., van Reisen, M., Flikkenschild, E., Oladipo, F., Meerman, B., Plug, R., Nodehi, S., 2022. Data <span>Access</span>, <span>Control</span>, and <span>Privacy Protection</span> in the <span>VODAN-Africa Architecture</span>. Data Intelligence 4, 938–954. <a href="https://doi.org/10.1162/dint_a_00180">https://doi.org/10.1162/dint_a_00180</a>
</div>
<div id="ref-purtova2023data" class="csl-entry" role="listitem">
Purtova, N., van Maanen, G., 2023. Data as an economic good, data as a commons, and data governance. Law, Innovation and Technology 0, 1–42. <a href="https://doi.org/10.1080/17579961.2023.2265270">https://doi.org/10.1080/17579961.2023.2265270</a>
</div>
<div id="ref-sanctis2022maintaining" class="csl-entry" role="listitem">
Sanctis, T.D., Etiebet, M.-A., Janssens, W., Graaf, M.H. van der, Montfort, C. van, Waiyaiya, E., Spieker, N., 2022. Maintaining <span>Continuity</span> of <span>Care</span> for <span>Expectant Mothers</span> in <span>Kenya During</span> the <span>COVID-19 Pandemic</span>: <span>A Study</span> of <span>MomCare</span>. Global Health: Science and Practice 10. <a href="https://doi.org/10.9745/GHSP-D-21-00665">https://doi.org/10.9745/GHSP-D-21-00665</a>
</div>
<div id="ref-shija2021access" class="csl-entry" role="listitem">
Shija, L., Yokoyana, J., Mrema, A., Bwakea, J., Kiwale, T., Massawe, N., 2021. Access to <span>Essential Maternal Health Commodities Key</span> to <span>Improving Quality</span> and <span>Adherence</span> to <span>Maternal Healthcare Regimes</span>: <span>Experience</span> from a <span>MomCare Project</span> in <span>Northern Tanzania</span>. AIJR Abstracts.
</div>
<div id="ref-sql-on-fhir" class="csl-entry" role="listitem">
<span>SQL</span> on <span>FHIR</span> speciification v0.0.1-pre, 2024.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>We have argued the choice of FHIR as the common data model elsewhere, working paper to be submitted (<a href="https://plugin-healthcare.github.io/viewpoint-jimr/">link</a>).<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Although the OpenHIE specification does not include details on dimensioning, these are typically the requirements that are used within the community. See <a href="https://wiki.ohie.org/display/CP/Interoperability+Layer+-+Use+Cases+and+Requirements">OpenHIE Community Wiki</a>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>